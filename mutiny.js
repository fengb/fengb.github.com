/* mutiny.js | https://github.com/enova/mutiny | https://raw.github.com/enova/mutiny/master/LICENSE */
var Mutiny=function(e,t,n){var r=function(r,i,s){if(e[i]===n)throw'"'+i+'" not found';var o=t.extend({},e[i].defaults);typeof s=="string"?o[e[i].string_arg]=s:t.extend(o,s),e[i].init(r,o)};return t.fn.mutiny=function(e){return e=e||"mutiny",this.each(function(n,i){var s=t(i),o=s.data(e);switch(typeof o){case"string":r(s,o,{});break;default:for(var u in o)r(s,u,o[u])}}),this},e.init=function(e){e=e||"mutiny",t("[data-"+e+"]").mutiny()},e}(Mutiny||{},jQuery),Mutiny=function(e,t,n){return e.accordion={defaults:{autoHeight:!1,collapsible:!0,active:!1},_hrefIndex:function(e,n){var r=-1;return e.find("a").each(function(e,i){if(t(i).attr("href")==n)return r=e,!1}),r},init:function(e,r){var i=window.location.hash||n,s=r.menu?t(r.menu):n;if(i){var o=this._hrefIndex(s||e,i);o>-1&&(r.active=o)}if(s){var u=this;s.find("a").click(function(n){var r=u._hrefIndex(s,t(n.target).attr("href"));r>-1&&e.accordion("activate",r)})}e.accordion(r)}},e}(Mutiny||{},jQuery),Mutiny=function(e,t){return e.slider={defaults:{range:"min"},_createFormatSpan:function(e,t,n){if(t===null||t==="")t="&nbsp;";var r=e.replace("%s","<span>"+t+"</span>");return n?'<span class="'+n+'">'+r+"</span>":"<span>"+r+"</span>"},init:function(e,n){var r;if(n.target)r=t(n.target);else{var i=e.attr("id"),s="";i&&(s=' id="'+i+'-mutiny-slider"'),r=t("<div"+s+"></div>").insertAfter(e)}n.value=e.val(),n.slide=function(t,n){e.val(n.value).change()};if(e.is("select")){var o=e.find("option");n.min=parseInt(o.first().val()),n.max=parseInt(o.last().val()),n.step=(n.max-n.min)/(o.length-1)}else n.min=parseInt(e.attr("min")||e.data("min")),n.max=parseInt(e.attr("max")||e.data("max")),n.step=parseInt(e.attr("step")||e.data("step"));e.change(function(){var t=parseInt(e.val());t>n.max&&(t=n.max),t<n.min&&(t=n.min),isNaN(t)&&(t=n.value),e.val(t),r.slider("value",t)}),n.minLabel&&r.append(this._createFormatSpan(n.minLabel,n.min,"min-label")),n.maxLabel&&r.append(this._createFormatSpan(n.maxLabel,n.max,"max-label")),r.slider(n);if(n.valueLabel){var u=t(this._createFormatSpan(n.valueLabel,n.value,"valueLabel")).appendTo(r.find(".ui-slider-handle")),a=u.find("span");e.change(function(){a.html(e.val())})}}},e}(Mutiny||{},jQuery),Mutiny=function(e,t){return e.toggler={defaults:{"class":"active",hijack:!0},string_arg:"target",init:function(e,n){var r=t(n.target),i=null;if(n.css){i={};for(var s in n.css)i[s]=r.css(s)||""}e.click(function(){e.hasClass(n["class"])?(e.removeClass(n["class"]),r.removeClass(n["class"]),i&&r.css(i)):(e.addClass(n["class"]),r.addClass(n["class"]),i&&r.css(n.css));if(n.hijack)return!1})}},e}(Mutiny||{},jQuery);
