---
Comment: "Please note that Jekyll will only convert files that also have a YAML header at the top."
---


require 'prawn'
require 'date'


module Fengb
  class Resume < Prawn::Document
    module Primitives
      def date_range(from, to)
        "#{date_fmt(from)} - #{date_fmt(to)}"
      end

      def date_fmt(date)
        Date.parse(date).strftime("%b '%y") rescue date
      end

      def link(url, text)
        "<color rgb='435c96'><link href='#{url}'>#{text}</link></color>"
      end

      def nav(links)
        text links.map{|text, url| link(url, text)}.join('  â€¢  '), inline_format: true, align: :center
      end
    end

    module Sectioning
      def gutter
        8
      end

      def header(title)
        text title, align: :center, size: 18, style: :bold
        move_up 1
        font_size 11 do
          yield
        end
      end

      def sec1(title)
        move_down 1.5*gutter

        text_box title.upcase, at: [gutter, cursor+1], size: 16, style: :bold, rotate: 270
        indent 3*gutter do
          bounding_box([0, cursor], width: bounds.width) do
            move_up gutter
            yield

            stroke do
              vertical_line bounds.top+1, bounds.bottom+2, at: -gutter
            end
          end
        end
      end

      def sec2(name, url: nil, description: nil)
        move_down gutter

        text url ? link(url, name) : name, inline_format: true, size: 12, style: :bold

        if description
          move_up 12
          indent 2*gutter + 145 do
            text description
          end
        end

        if block_given?
          move_up gutter/2
          indent 2*gutter do
            yield
          end
        end
      end

      def sec3(title, subtitle: nil, description: nil)
        move_down gutter/2

        text title, size: 10, style: :bold
        if subtitle
          font 'Courier' do
            text subtitle, size: 8, style: :bold
          end
        end

        if description
          if subtitle
            move_up 20.2
          else
            move_up 12
          end
          indent 145 do
            text description
          end
        end
      end
    end

    include Primitives, Sectioning
    def self.render(options={}, &block)
      pdf = new(options, &block)
      pdf.render
    end
  end
end

Fengb::Resume.render do
  font_size 10
  header 'Benjamin Feng' do
    nav('(312) 725-2842'     => 'tel:+1-312-725-2842',
        'contact@fengb.info' => 'mailto:contact@fengb.info')
  end

  sec1 'Summary' do
    sec2 'Objective',         description: 'To solve complex problems with emphasis on simplicity and elegance.'

    sec2 'Skills' do
      sec3 'Languages',       description: 'C, Javascript, Objective-C, Python, Ruby, SQL'
      sec3 'Frameworks',      description: 'Django, jQuery, Ruby on Rails'
      sec3 'Version Control', description: 'Git, Mercurial, Perforce, Subversion'
      sec3 'Platforms',       description: 'Arch Linux, Mac OS X, AWS, Heroku'
    end
  end

  sec1 'Employment' do
    sec2 'FENGB TECH', url: 'http://fengb.info' do
      sec3 'Independent Consultant',
        subtitle: date_range('2013-08-05', 'present')
    end

    sec2 'FENGB NVST', url: 'https://fengb-investments.com' do
      sec3 'General Partner',
        subtitle: date_range('2013-03-11', 'present')
    end

    sec2 'Enova International', url: 'http://www.enova.com' do
      sec3 'Lead Software Engineer',
        subtitle: date_range('2013-04-03', 'present'),
        description: 'Acted as technical team lead for 6 developers and 3 QA
                      Converted team / business to lean UX design processes
                      Architected solutions related to accounting and underwriting'

      sec3 'Sr. Software Engineer II',
        subtitle: date_range('2011-07-01', '2013-04-02'),
        description: 'Drove three highly aggressive IPO related projects
                      Integrated with banking systems and credit reporting agencies
                      Onboarded newly hired developers and managers'

      sec3 'Sr. UI Engineer',
        subtitle: date_range('2010-07-01', '2011-06-30'),
        description: 'Launched mobile web for all existing products
                      Updated the UI to maintain compliance with rapidly changing legal environment'

      sec3 'UI Engineer',
        subtitle: date_range('2009-10-19', '2010-06-30'),
        description: 'Launched frontend for new product with over $100 million yearly revenues
                      Recreated legacy UI on new platform with hundreds of thousands of customers'
    end

    sec2 'Crusader Storm', url: 'http://web.archive.org/web/20100623115357/http://www.crusaderstorm.com/' do
      sec3 'Founder',
        subtitle: date_range('2010-05-07', '2011-05-06'),
        description: 'Incubated iPhone app from concept to release
                      Designed responsive website with graceful degradation'
    end

    sec2 'Business Logic', url: 'http://businesslogic.com/' do
      sec3 'Software Engineer',
        subtitle: date_range('2007-06-04', '2009-08-04'),
        description: 'Repurposed existing single-threaded engine into a scalable aggregator
                      Maintained legacy SOAP to REST translation layer
                      Created testing framework for separating data and verification'
    end

    sec2 'Rose-Hulman Ventures', url: 'http://rhventures.org/' do
      sec3 'Computer Engineer Intern',
        subtitle: date_range('2006-06-12', '2007-03-16'),
        description: 'Optimized embedded software for memory efficiency
                      Enhanced C++ MFC application integrating with hardware controls'

      sec3 'Software Engineer Intern',
        subtitle: date_range('2005-06-06', '2006-06-09'),
        description: 'Coordinated a development team of 5
                      Worked with business on defining requirements'
    end
  end

  sec1 'Edu' do
    sec2 'Rose-Hulman Institute of Technology', url: 'http://www.rose-hulman.edu/' do
      sec3 'BS in Computer Engineering',
        subtitle: date_range('2003-09-04', '2007-05-26'),
        description: 'Minors in Computer Science & Economics'
    end
  end
end
