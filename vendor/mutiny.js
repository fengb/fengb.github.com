/*! Mutiny v0.3.0dev - http://mutinyjs.com/ */
(function(n,a){function e(n,a){return n?n.filter(a):$(a)}function t(n,e,t){var i=l.widgets[e];if(i===a)throw o('"{0}" not found',e);if(t=t||{},r(t)){var s={};if(!i.stringArg)throw o('"{0}" cannot parse "{1}"',e,t);s[i.stringArg]=t,t=s}return t.called?a:(i.init(n,$.extend({},i.defaults,t)),t.called=!0,t)}function i(n){return $.map(n.split(/(?=[A-Z])/),function(n){return n.toLowerCase()}).join("-")}function r(n){return!!n.substring}function s(n,a,e){var t=n.replace("%s",o("<span>{0}</span>",a||"&nbsp;"));return e?o('<span class="{0}">{1}</span>',e,t):o("<span>{0}</span>",t)}$(function(){l.options.initOnReady&&l.init()});var l=n.Mutiny={options:{initOnReady:!0},widgets:{},init:function(n,r){r=r||"mutiny";var s=[];for(var c in l.widgets)s.push(o("[data-{0}-{1}]",r,i(c)));for(var u=e(n,s.join(",")),f=0;u.length>f;f++){var d=$(u[f]);for(c in l.widgets){var v=o("{0}-{1}",r,c),g=d.data(v);if(g!==a){var p=t(d,c,g);p&&d.data(v,p)}}}}},o=function(){for(var n=[],a=0;10>a;a++)n[a]=RegExp("\\{"+a+"\\}","gm");return function(){for(var a=arguments[0],e=1;arguments.length>e;e++)a=a.replace(n[e-1],arguments[e]);return a}}();l.widgets.accordion={defaults:{autoHeight:!1,collapsible:!0,active:!1},init:function(a,e){var t=n.location.hash;t&&a.find(t).length>0&&(e.active=t),a.accordion(e),$(n).on("hashchange",function(){var e=n.location.hash;e&&a.find(e).length>0&&a.accordion("activate",e)})}},l.widgets.datepicker={init:function(n,a){n.datepicker(a)}},l.widgets.slider={defaults:{range:"min"},init:function(n,a){var e;if(a.target)e=$(a.target);else{var t=n.attr("id");e=t?$(o('<div id="{0}-mutiny-slider"></div>',t)):$("<div></div>"),e.insertAfter(n)}if(a.value=n.val(),a.slide=function(a,e){n.val(e.value).change()},n.is("select")){var i=n.find("option");a.min=Number(i.first().val()),a.max=Number(i.last().val()),a.step=(a.max-a.min)/(i.length-1)}else $.each(["min","max","step"],function(e,t){a[t]=Number(a[t]||n.attr(t)||n.data(t))});if(n.change(function(){var t=Number(n.val());t>a.max&&(t=a.max),a.min>t&&(t=a.min),isNaN(t)&&(t=a.value),n.val(t),e.slider("value",t)}),a.minLabel&&e.append(s(a.minLabel,a.min,"min-label")),a.maxLabel&&e.append(s(a.maxLabel,a.max,"max-label")),e.slider(a),a.valueLabel){var r=$(s(a.valueLabel,a.value,"value-label")).appendTo(e.find(".ui-slider-handle")),l=r.find("span");n.change(function(){l.html(n.val())})}}},l.widgets.toggler={defaults:{classes:"inactive active",preventDefault:!1},stringArg:"target",init:function(n,a){var e,t=$(a.target);if(a.style){var i={};for(var r in a.style)i[r]=n.css(r);e=function(e){n.css(e?a.style:i),t.css(e?a.style:i)}}else{var s=a.classes.split(" ");e=function(a){n.toggleClass(s[0],!a),n.toggleClass(s[1],a),t.toggleClass(s[0],!a),t.toggleClass(s[1],a)}}if(n.is("input[type=radio]")){var l=n.attr("name");e(n.is(":checked")),$(o('input[name="{0}"]',l)).change(function(){e(n.is(":checked"))})}else{var c=!1;e(c),n.click(function(n){c=!c,e(c),a.preventDefault&&n.preventDefault()})}}}})(window);
